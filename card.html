<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, intial-scale=1.0">
    <title>CARD PAYMENT</title>
    <link rel="icon" href="nav_icon.png">
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <div id="buycard">
        <div class="backbutt">
            <button onclick="history.back()" role="button" class="home-btn"><i class="bx bxs-home"></i>BACK</button>
        </div>
        <main>
            <form name="buycardform">
        <div class="card">
            <h3>CARD INFORMATION</h3>
            <div class="credit-nu">
                <input onkeydown="cardno()"  id="credit-card-input" name="cardno" type="text" maxlength="19" size="19" autofocus placeholder="XXXX XXXX XXXX XXXX">
            </div>
            <div class="credit-rest">
                <input id="CVC" name="CVC" type="text" maxlength="3" size="3" placeholder="CVC">
                <input id="EXPIRE" name="expire" type="text" maxlength="5" size="5" placeholder="MM/YY">
            </div>
            <div class="nameholder">
                <input id="nameholder" type="text" placeholder="CARD HOLDER"><i class='bx bxl-mastercard'></i>
            </div>
        </div>
            </form>
        <div class="proceed-card">
            <button onclick="submitcard(document.buycardform.CVC,document.buycardform.expire,document.buycardform.cardno)"  type="submit" class="proceed-card-btn">Total: 3500 EGP<p>PAY NOW</p></button>
        </div>
            </main>
    </div>
<script>
    //expire dash
    const input = document.getElementById("EXPIRE");
    input.addEventListener("input", () => input.value = formatNumber(input.value.replaceAll("/", "")));
    const formatNumber = (number) => number.split("").reduce((seed, next, index) => {
        if (index !== 0 && !(index % 2)) seed += "/";
        return seed + next;
    }, "");
    // card number spaceing
    const cred = document.getElementById("credit-card-input");
    cred.addEventListener("input", () => cred.value = crednumber(cred.value.replaceAll(" ", "")));
    const crednumber = (number) => number.split("").reduce((seed, next, index) => {
        if (index !== 0 && !(index % 4)) seed += " ";
        return seed + next;
    }, "");
</script>
</body>
</html>